{
  "permissions": {
    "allow": [
      "Bash(tree:*)",
      "Bash(node:*)",
      "Bash(npm test:*)",
      "Bash(npm install:*)",
      "Bash(npx eslint:*)",
      "Bash(for file in screens/AlphabetDetectionScreen.js screens/NumberDetectionScreen.js screens/SettingsScreen.js screens/SplashScreen.js screens/NumberScreen.js)",
      "Bash(do node -c \"$file\")",
      "Bash(done)",
      "Bash(curl:*)",
      "Bash(npx metro:*)",
      "Bash(for file in components/detection/ConfidenceIndicator.js components/detection/AudioButton.js components/detection/ResultInteraction.js components/detection/DetectionHistory.js)",
      "Bash(echo:*)",
      "Bash(npx babel:*)",
      "Bash(for file in screens/RealTimeDetectionScreen.js components/detection/ConfidenceIndicator.js components/detection/AudioButton.js components/detection/ResultInteraction.js components/detection/DetectionHistory.js App.js)",
      "Bash(do echo \"Testing: $file\")",
      "Bash(lsof:*)",
      "Bash(xargs kill -9)",
      "Bash(npm ls:*)",
      "Bash(npm audit:*)",
      "Bash(npm uninstall:*)",
      "Bash(npm start)",
      "Bash(npm run build:*)",
      "mcp__ide__getDiagnostics",
      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Arreglar cÃ¡mara negra cuando modelo TensorFlow.js estÃ¡ activo (CSB-77)\n\n**Problema:** La cÃ¡mara se renderizaba negra cuando el modelo TensorFlow.js se cargaba.\nEl assetBase relativo (../../assets/ml) no funcionaba en web con Metro bundler.\n\n**Soluciones implementadas:**\n\n1. **metro.config.js:** Configurar Metro para servir estÃ¡ticamente archivos /assets/ml/\n   - Agrega middleware personalizado para servir model.json y .bin files\n   - Extiende assetExts para incluir .bin files\n\n2. **signMovementClassifier.ts:** Simplificar carga de modelo\n   - En web: usar rutas absolutas `/assets/ml/model.json` (Metro las sirve)\n   - En React Native: mantener bundleResourceIO\n   - Agregar logging para debugging\n\n3. **detection.tsx:** Usar video element en lugar de CameraView para web\n   - CameraView es solo para React Native\n   - Usar HTML5 getUserMedia() en web\n   - Agregar inicializaciÃ³n correcta de streams\n\n**Resultado:**\nâœ… Modelo carga correctamente desde /assets/ml/ via Metro\nâœ… CÃ¡mara renderiza feed de video en vivo\nâœ… Overlay de predicciÃ³n visible sobre la cÃ¡mara\nâœ… Sin cÃ¡mara negra - feed funcional con modelo activo\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
